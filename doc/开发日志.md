# 开发日志

### 0.5 消息封装

定义一个消息的结构Message

#### 属性

- 消息ID
- 消息长度
- 消息内容

#### 方法

- Setter
- Getter

#### pack模块

定义一个解决TCP粘包问题的封包拆包模块

- 针对Message进行TLV格式的封装
- 针对Message进行TLV格式的拆包

#### 消息封装集成

- 将 Message 添加到Request属性中
- 修改链接读取数据的机制，将单纯的读取byte 改为 拆包形式读取
- 给链接提供一个发包机制： 将发送的消息进行打包，再发送

### 0.6 多路由模式

消息管理模式 支持多路由业务api调度管理的

#### 属性

- 消息ID 和 router 对应关系 map

#### 方法

- 根据msgID索引路由方法
- 添加路由方法到map中

#### 集成框架

- 将server模块中的router属性改为handler，修改初始化方法
- 将connection模块中的router属性改为handler，修改初始化方法
- connection的之前调度Router的业务 替换为 handler调度，修改StartReader方法